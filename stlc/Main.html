<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Main</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="Main.html" class="Module">Main</a> <a id="13" class="Keyword">where</a>

<a id="20" class="Keyword">open</a> <a id="25" class="Keyword">import</a> <a id="32" href="Data.Product.html" class="Module">Data.Product</a>
<a id="45" class="Keyword">open</a> <a id="50" class="Keyword">import</a> <a id="57" href="Data.String.html" class="Module">Data.String</a>
<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>
<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="Text.Parser.Position.html" class="Module">Text.Parser.Position</a>
<a id="128" class="Keyword">open</a> <a id="133" class="Keyword">import</a> <a id="140" href="Function.html" class="Module">Function</a>

<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Language.html" class="Module">Language</a>
<a id="171" class="Keyword">open</a> <a id="176" class="Keyword">import</a> <a id="183" href="Types.html" class="Module">Types</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Parse.html" class="Module">Parse</a>
<a id="207" class="Keyword">open</a> <a id="212" class="Keyword">import</a> <a id="219" href="Scopecheck.html" class="Module">Scopecheck</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Typecheck.html" class="Module">Typecheck</a>
<a id="252" class="Keyword">open</a> <a id="257" class="Keyword">import</a> <a id="264" href="LetInline.html" class="Module">LetInline</a>
<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Print.html" class="Module">Print</a>

<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Category.Monad.html" class="Module">Category.Monad</a>
<a id="320" class="Keyword">open</a> <a id="325" href="Category.Monad.html#810" class="Module">RawMonad</a> <a id="334" href="Data.Sum.Categorical.Left.html#1296" class="Function">Result.monad</a>

<a id="pipeline"></a><a id="348" href="Main.html#348" class="Function">pipeline</a> <a id="357" class="Symbol">:</a> <a id="359" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="366" class="Symbol">→</a> <a id="368" href="Types.html#574" class="Function">Result</a> <a id="375" href="Agda.Builtin.String.html#165" class="Postulate">String</a>
<a id="382" href="Main.html#348" class="Function">pipeline</a> <a id="391" href="Main.html#391" class="Bound">str</a> <a id="395" class="Symbol">=</a> <a id="397" class="Keyword">do</a>
  <a id="402" href="Main.html#402" class="Bound">parsed</a>         <a id="417" href="Category.Monad.Indexed.html#604" class="Function Operator">←</a> <a id="419" href="Parse.html#4687" class="Function">parse</a> <a id="425" href="Main.html#391" class="Bound">str</a>
  <a id="431" class="Symbol">(</a><a id="432" href="Main.html#432" class="Bound">scoped</a> <a id="439" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="441" href="Main.html#441" class="Bound">mp</a><a id="443" class="Symbol">)</a>  <a id="446" href="Category.Monad.Indexed.html#604" class="Function Operator">←</a> <a id="448" href="Scopecheck.html#1760" class="Function">scopecheck</a> <a id="459" href="Main.html#402" class="Bound">parsed</a>
  <a id="468" class="Symbol">(</a><a id="469" href="Main.html#469" class="Bound">σ</a> <a id="471" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="473" href="Main.html#473" class="Bound">typed</a><a id="478" class="Symbol">)</a>    <a id="483" href="Category.Monad.Indexed.html#604" class="Function Operator">←</a> <a id="485" href="Typecheck.html#3587" class="Function">typecheck</a> <a id="495" href="Main.html#432" class="Bound">scoped</a>
  <a id="504" class="Keyword">let</a> <a id="508" href="Main.html#508" class="Bound">simplified</a> <a id="519" class="Symbol">=</a> <a id="521" href="LetInline.html#447" class="Function">let-inline</a> <a id="532" href="Main.html#473" class="Bound">typed</a>
  <a id="540" href="Category.Applicative.Indexed.html#783" class="Function">pure</a> <a id="545" href="Function.html#1927" class="Function Operator">$</a> <a id="547" href="Print.html#707" class="Function">print</a> <a id="553" href="Main.html#508" class="Bound">simplified</a> <a id="564" href="Main.html#441" class="Bound">mp</a>

<a id="568" class="Keyword">open</a> <a id="573" class="Keyword">import</a> <a id="580" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>

<a id="603" class="Comment">-- Success</a>

<a id="615" href="Main.html#615" class="Function">_</a> <a id="617" class="Symbol">:</a> <a id="619" href="Main.html#348" class="Function">pipeline</a> <a id="628" class="String">&quot;(λa.a : `a → `a)&quot;</a> <a id="647" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="649" href="Data.Sum.Base.html#590" class="InductiveConstructor">inj₂</a> <a id="654" class="String">&quot;(λa.a : `a → `a)&quot;</a>
<a id="673" class="Symbol">_</a> <a id="675" class="Symbol">=</a> <a id="677" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="683" href="Main.html#683" class="Function">_</a> <a id="685" class="Symbol">:</a> <a id="687" href="Main.html#348" class="Function">pipeline</a> <a id="696" class="String">&quot;(λf.λx. let y = f x in y : (`a → `b) → (`a → `b))&quot;</a>
  <a id="750" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="752" href="Data.Sum.Base.html#590" class="InductiveConstructor">inj₂</a> <a id="757" class="String">&quot;(λa.λb.a b : (`a → `b) → `a → `b)&quot;</a>
<a id="793" class="Symbol">_</a> <a id="795" class="Symbol">=</a> <a id="797" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="803" href="Main.html#803" class="Function">_</a> <a id="805" class="Symbol">:</a> <a id="807" href="Main.html#348" class="Function">pipeline</a> <a id="816" class="String">&quot;(λf.λx. f (let y = x in y) x : (`a → `a → `b) → `a → `b)&quot;</a>
  <a id="877" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="879" href="Data.Sum.Base.html#590" class="InductiveConstructor">inj₂</a> <a id="884" class="String">&quot;(λa.λb.a b b : (`a → `a → `b) → `a → `b)&quot;</a>
<a id="927" class="Symbol">_</a> <a id="929" class="Symbol">=</a> <a id="931" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="937" href="Main.html#937" class="Function">_</a> <a id="939" class="Symbol">:</a> <a id="941" href="Main.html#348" class="Function">pipeline</a> <a id="950" class="String">&quot;(λg.λf.λa. let b = f a in g a b : (`a → `b → `c) → (`a → `b) → `a → `c)&quot;</a>
  <a id="1026" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1028" href="Data.Sum.Base.html#590" class="InductiveConstructor">inj₂</a> <a id="1033" class="String">&quot;(λa.λb.λc.a c (b c) : (`a → `b → `c) → (`a → `b) → `a → `c)&quot;</a>
<a id="1095" class="Symbol">_</a> <a id="1097" class="Symbol">=</a> <a id="1099" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="1105" class="Comment">-- Errors</a>

<a id="1116" href="Main.html#1116" class="Function">_</a> <a id="1118" class="Symbol">:</a> <a id="1120" href="Main.html#348" class="Function">pipeline</a> <a id="1129" class="String">&quot;(λa.a : A → A)&quot;</a> <a id="1146" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1148" href="Data.Sum.Base.html#565" class="InductiveConstructor">inj₁</a> <a id="1153" class="Symbol">(</a><a id="1154" href="Types.html#387" class="InductiveConstructor Operator">At</a> <a id="1157" class="Number">0</a> <a id="1159" href="Text.Parser.Position.html#345" class="InductiveConstructor Operator">∶</a> <a id="1161" class="Number">8</a> <a id="1163" href="Types.html#387" class="InductiveConstructor Operator">ParseError</a> <a id="1174" class="Symbol">)</a>
<a id="1176" class="Symbol">_</a> <a id="1178" class="Symbol">=</a> <a id="1180" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="1186" href="Main.html#1186" class="Function">_</a> <a id="1188" class="Symbol">:</a> <a id="1190" href="Main.html#348" class="Function">pipeline</a> <a id="1199" class="String">&quot;(λa.b : `a → `a)&quot;</a> <a id="1218" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1220" href="Data.Sum.Base.html#565" class="InductiveConstructor">inj₁</a> <a id="1225" class="Symbol">(</a><a id="1226" href="Types.html#425" class="InductiveConstructor Operator">At</a> <a id="1229" class="Number">0</a> <a id="1231" href="Text.Parser.Position.html#345" class="InductiveConstructor Operator">∶</a> <a id="1233" class="Number">3</a> <a id="1235" href="Types.html#425" class="InductiveConstructor Operator">OutOfScope</a> <a id="1246" class="String">&quot;b&quot;</a><a id="1249" class="Symbol">)</a>
<a id="1251" class="Symbol">_</a> <a id="1253" class="Symbol">=</a> <a id="1255" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="1261" href="Main.html#1261" class="Function">_</a> <a id="1263" class="Symbol">:</a> <a id="1265" href="Main.html#348" class="Function">pipeline</a> <a id="1274" class="String">&quot;(λa.a : `a → `b)&quot;</a> <a id="1293" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1295" href="Data.Sum.Base.html#565" class="InductiveConstructor">inj₁</a> <a id="1300" class="Symbol">(</a><a id="1301" href="Types.html#472" class="InductiveConstructor Operator">At</a> <a id="1304" class="Number">0</a> <a id="1306" href="Text.Parser.Position.html#345" class="InductiveConstructor Operator">∶</a> <a id="1308" class="Number">3</a> <a id="1310" href="Types.html#472" class="InductiveConstructor Operator">Expected</a> <a id="1319" href="Language.html#701" class="InductiveConstructor">α</a> <a id="1321" class="Number">1</a> <a id="1323" href="Types.html#472" class="InductiveConstructor Operator">Got</a> <a id="1327" href="Language.html#701" class="InductiveConstructor">α</a> <a id="1329" class="Number">0</a><a id="1330" class="Symbol">)</a>
<a id="1332" class="Symbol">_</a> <a id="1334" class="Symbol">=</a> <a id="1336" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="1342" href="Main.html#1342" class="Function">_</a> <a id="1344" class="Symbol">:</a> <a id="1346" href="Main.html#348" class="Function">pipeline</a> <a id="1355" class="String">&quot;(λa.λf.λx. f a x : `a → (`a → `b → `c) → `c)&quot;</a>
  <a id="1404" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1406" href="Data.Sum.Base.html#565" class="InductiveConstructor">inj₁</a> <a id="1411" class="Symbol">(</a><a id="1412" href="Types.html#528" class="InductiveConstructor Operator">At</a> <a id="1415" class="Number">0</a> <a id="1417" href="Text.Parser.Position.html#345" class="InductiveConstructor Operator">∶</a> <a id="1419" class="Number">7</a> <a id="1421" href="Types.html#528" class="InductiveConstructor Operator">NotAnArrow</a> <a id="1432" href="Language.html#701" class="InductiveConstructor">α</a> <a id="1434" class="Number">2</a><a id="1435" class="Symbol">)</a>
<a id="1437" class="Symbol">_</a> <a id="1439" class="Symbol">=</a> <a id="1441" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
</pre></body></html>