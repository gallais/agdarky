<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Char.Unsafe</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Unsafe Char operations and proofs</a>
<a id="143" class="Comment">------------------------------------------------------------------------</a>

<a id="217" class="Symbol">{-#</a> <a id="221" class="Keyword">OPTIONS</a> <a id="229" class="Option">--with-K</a> <a id="238" class="Symbol">#-}</a>

<a id="243" class="Keyword">module</a> <a id="250" href="Data.Char.Unsafe.html" class="Module">Data.Char.Unsafe</a> <a id="267" class="Keyword">where</a>

<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="301" class="Keyword">using</a> <a id="307" class="Symbol">(</a><a id="308" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a><a id="312" class="Symbol">;</a> <a id="314" href="Agda.Builtin.Bool.html#92" class="InductiveConstructor">true</a><a id="318" class="Symbol">;</a> <a id="320" href="Agda.Builtin.Bool.html#86" class="InductiveConstructor">false</a><a id="325" class="Symbol">)</a>
<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="356" class="Keyword">using</a> <a id="362" class="Symbol">(</a><a id="363" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a><a id="366" class="Symbol">;</a> <a id="368" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a><a id="370" class="Symbol">)</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="411" class="Keyword">using</a> <a id="417" class="Symbol">(</a><a id="418" href="Relation.Nullary.Decidable.html#858" class="Function Operator">⌊_⌋</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="451" class="Keyword">using</a> <a id="457" class="Symbol">(</a><a id="458" href="Relation.Binary.Core.html#5213" class="Function">Decidable</a><a id="467" class="Symbol">;</a> <a id="469" href="Relation.Binary.html#2730" class="Record">DecSetoid</a><a id="478" class="Symbol">)</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="530" class="Symbol">as</a> <a id="533" class="Module">PropEq</a> <a id="540" class="Keyword">using</a> <a id="546" class="Symbol">(</a><a id="547" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="550" class="Symbol">)</a>
<a id="552" class="Keyword">open</a> <a id="557" class="Keyword">import</a> <a id="564" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a>

<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Agda.Builtin.Char.html" class="Module">Agda.Builtin.Char</a> <a id="641" class="Keyword">using</a> <a id="647" class="Symbol">(</a><a id="648" href="Agda.Builtin.Char.html#400" class="Primitive">primCharEquality</a><a id="664" class="Symbol">)</a>
<a id="666" class="Keyword">open</a> <a id="671" class="Keyword">import</a> <a id="678" href="Data.Char.html" class="Module">Data.Char</a>

<a id="689" class="Comment">------------------------------------------------------------------------</a>
<a id="762" class="Comment">-- An informative equality test.</a>

<a id="796" class="Keyword">infix</a> <a id="802" class="Number">4</a> <a id="804" href="Data.Char.Unsafe.html#809" class="Function Operator">_≟_</a>

<a id="_≟_"></a><a id="809" href="Data.Char.Unsafe.html#809" class="Function Operator">_≟_</a> <a id="813" class="Symbol">:</a> <a id="815" href="Relation.Binary.Core.html#5213" class="Function">Decidable</a> <a id="825" class="Symbol">{</a><a id="826" class="Argument">A</a> <a id="828" class="Symbol">=</a> <a id="830" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a><a id="834" class="Symbol">}</a> <a id="836" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>
<a id="840" href="Data.Char.Unsafe.html#840" class="Bound">s₁</a> <a id="843" href="Data.Char.Unsafe.html#809" class="Function Operator">≟</a> <a id="845" href="Data.Char.Unsafe.html#845" class="Bound">s₂</a> <a id="848" class="Keyword">with</a> <a id="853" href="Agda.Builtin.Char.html#400" class="Primitive">primCharEquality</a> <a id="870" href="Data.Char.Unsafe.html#840" class="Bound">s₁</a> <a id="873" href="Data.Char.Unsafe.html#845" class="Bound">s₂</a>
<a id="876" class="Symbol">...</a> <a id="880" class="Symbol">|</a> <a id="882" href="Agda.Builtin.Bool.html#92" class="InductiveConstructor">true</a>  <a id="888" class="Symbol">=</a> <a id="890" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="894" href="Relation.Binary.PropositionalEquality.TrustMe.html#573" class="Function">trustMe</a>
<a id="902" class="Symbol">...</a> <a id="906" class="Symbol">|</a> <a id="908" href="Agda.Builtin.Bool.html#86" class="InductiveConstructor">false</a> <a id="914" class="Symbol">=</a> <a id="916" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a> <a id="919" href="Data.Char.Unsafe.html#946" class="Postulate">whatever</a>
  <a id="930" class="Keyword">where</a> <a id="936" class="Keyword">postulate</a> <a id="946" href="Data.Char.Unsafe.html#946" class="Postulate">whatever</a> <a id="955" class="Symbol">:</a> <a id="957" class="Symbol">_</a>

<a id="960" class="Comment">------------------------------------------------------------------------</a>
<a id="1033" class="Comment">-- Boolean equality test.</a>
<a id="1059" class="Comment">--</a>
<a id="1062" class="Comment">-- Why is the definition _==_ = primCharEquality not used? One reason</a>
<a id="1132" class="Comment">-- is that the present definition can sometimes improve type</a>
<a id="1193" class="Comment">-- inference, at least with the version of Agda that is current at the</a>
<a id="1264" class="Comment">-- time of writing: see unit-test below.</a>

<a id="1306" class="Keyword">infix</a> <a id="1312" class="Number">4</a> <a id="1314" href="Data.Char.Unsafe.html#1320" class="Function Operator">_==_</a>

<a id="_==_"></a><a id="1320" href="Data.Char.Unsafe.html#1320" class="Function Operator">_==_</a> <a id="1325" class="Symbol">:</a> <a id="1327" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="1339" class="Symbol">→</a> <a id="1341" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a>
<a id="1346" href="Data.Char.Unsafe.html#1346" class="Bound">c₁</a> <a id="1349" href="Data.Char.Unsafe.html#1320" class="Function Operator">==</a> <a id="1352" href="Data.Char.Unsafe.html#1352" class="Bound">c₂</a> <a id="1355" class="Symbol">=</a> <a id="1357" href="Relation.Nullary.Decidable.html#858" class="Function Operator">⌊</a> <a id="1359" href="Data.Char.Unsafe.html#1346" class="Bound">c₁</a> <a id="1362" href="Data.Char.Unsafe.html#809" class="Function Operator">≟</a> <a id="1364" href="Data.Char.Unsafe.html#1352" class="Bound">c₂</a> <a id="1367" href="Relation.Nullary.Decidable.html#858" class="Function Operator">⌋</a>

<a id="1370" class="Keyword">private</a>

  <a id="1381" class="Comment">-- The following unit test does not type-check (at the time of</a>
  <a id="1446" class="Comment">-- writing) if _==_ is replaced by primCharEquality.</a>

  <a id="1502" class="Keyword">data</a> <a id="P"></a><a id="1507" href="Data.Char.Unsafe.html#1507" class="Datatype">P</a> <a id="1509" class="Symbol">:</a> <a id="1511" class="Symbol">(</a><a id="1512" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="1517" class="Symbol">→</a> <a id="1519" href="Agda.Builtin.Bool.html#67" class="Datatype">Bool</a><a id="1523" class="Symbol">)</a> <a id="1525" class="Symbol">→</a> <a id="1527" class="PrimitiveType">Set</a> <a id="1531" class="Keyword">where</a>
    <a id="P.p"></a><a id="1541" href="Data.Char.Unsafe.html#1541" class="InductiveConstructor">p</a> <a id="1543" class="Symbol">:</a> <a id="1545" class="Symbol">(</a><a id="1546" href="Data.Char.Unsafe.html#1546" class="Bound">c</a> <a id="1548" class="Symbol">:</a> <a id="1550" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a><a id="1554" class="Symbol">)</a> <a id="1556" class="Symbol">→</a> <a id="1558" href="Data.Char.Unsafe.html#1507" class="Datatype">P</a> <a id="1560" class="Symbol">(</a><a id="1561" href="Data.Char.Unsafe.html#1546" class="Bound">c</a> <a id="1563" href="Data.Char.Unsafe.html#1320" class="Function Operator">==_</a><a id="1566" class="Symbol">)</a>

  <a id="unit-test"></a><a id="1571" href="Data.Char.Unsafe.html#1571" class="Function">unit-test</a> <a id="1581" class="Symbol">:</a> <a id="1583" href="Data.Char.Unsafe.html#1507" class="Datatype">P</a> <a id="1585" class="Symbol">(</a><a id="1586" class="String">&#39;x&#39;</a> <a id="1590" href="Data.Char.Unsafe.html#1320" class="Function Operator">==_</a><a id="1593" class="Symbol">)</a>
  <a id="1597" href="Data.Char.Unsafe.html#1571" class="Function">unit-test</a> <a id="1607" class="Symbol">=</a> <a id="1609" href="Data.Char.Unsafe.html#1541" class="InductiveConstructor">p</a> <a id="1611" class="Symbol">_</a>

<a id="1614" class="Comment">------------------------------------------------------------------------</a>
<a id="1687" class="Comment">-- Decidable equality</a>

<a id="decSetoid"></a><a id="1710" href="Data.Char.Unsafe.html#1710" class="Function">decSetoid</a> <a id="1720" class="Symbol">:</a> <a id="1722" href="Relation.Binary.html#2730" class="Record">DecSetoid</a> <a id="1732" class="Symbol">_</a> <a id="1734" class="Symbol">_</a>
<a id="1736" href="Data.Char.Unsafe.html#1710" class="Function">decSetoid</a> <a id="1746" class="Symbol">=</a> <a id="1748" href="Relation.Binary.PropositionalEquality.html#1575" class="Function">PropEq.decSetoid</a> <a id="1765" href="Data.Char.Unsafe.html#809" class="Function Operator">_≟_</a>
</pre></body></html>